"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[63],{63:function(t,e,n){n.r(e),n.d(e,{default:function(){return N}});var r=n(791),a=n(434),c=n(861),u=n(687),s=n.n(u),o=n(382),i=n(243);i.Z.defaults.baseURL="https://connections-api.herokuapp.com/";var l=(0,o.hg)("contacts/fetchAll",function(){var t=(0,c.Z)(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.get("/contacts");case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),p=(0,o.hg)("contacts/addContact",function(){var t=(0,c.Z)(s().mark((function t(e,n){var r,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,a=e.number,t.prev=1,t.next=4,i.Z.post("/contacts",{name:r,number:a});case 4:return c=t.sent,t.abrupt("return",c.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",n.rejectWithValue(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),f=(0,o.hg)("contacts/deleteContact",function(){var t=(0,c.Z)(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.delete("/contacts/".concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),m=function(t){return t.contacts.loading},h=function(t){return t.contacts.filter},d=function(t){return t.contacts.items},v=n(439),x="Form_form__EREYM",b="Form_input__alRqI",g=n(184),_=function(){var t=(0,r.useState)(""),e=(0,v.Z)(t,2),n=e[0],c=e[1],u=(0,r.useState)(""),s=(0,v.Z)(u,2),o=s[0],i=s[1],l=(0,a.I0)(),f=(0,a.v9)((function(t){return function(t,e){return!t.contacts.items.some((function(t){return t.name===e}))}(t,n)})),m={name:n,number:o};return(0,g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n&&o?f?(console.log(m),l(p({name:n,number:o})),c(""),i("")):alert("This contact already exists"):alert("Please enter name and number")},className:x,children:[(0,g.jsxs)("label",{children:["Name:",(0,g.jsx)("input",{type:"text",name:"name",value:n,onChange:function(t){c(t.target.value),console.log(n)},className:b})]}),(0,g.jsxs)("label",{children:["Number:",(0,g.jsx)("input",{type:"tel",name:"number",value:o,onChange:function(t){i(t.target.value),console.log(o)},className:b})]}),(0,g.jsx)("button",{type:"submit",children:"Add Contact"})]})},j=n(895),C=function(){var t=(0,a.I0)(),e=(0,r.useState)(""),n=(0,v.Z)(e,2),c=n[0],u=n[1];return(0,g.jsx)("input",{type:"text",value:c,onChange:function(e){u(e.target.value),t((0,j.T)(e.target.value))},placeholder:"Search contacts by name",style:{marginBottom:"10px",padding:"5px"}})},w="ContactsList_listText__a0cEI",k="ContactsList_listItem__3DObf",y="ContactsList_listButton__837nC",Z=function(){var t=(0,a.v9)(d),e=(0,a.v9)(h),n=(0,a.I0)(),r=function(t,e){return e?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):t}(t,e);return(0,g.jsx)("ul",{children:r.map((function(t){return(0,g.jsxs)("li",{className:k,children:[(0,g.jsxs)("span",{className:w,children:[t.name,": ",t.number]}),(0,g.jsx)("button",{onClick:function(){return e=t.id,void n(f(e));var e},className:y,children:"Delete"})]},t.id)}))})};function N(){var t=(0,a.I0)(),e=(0,a.v9)(m);return(0,r.useEffect)((function(){t(l())}),[t]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("title",{children:"Your contacts"}),(0,g.jsx)(_,{}),(0,g.jsx)("div",{children:e&&"Request in progress..."}),(0,g.jsx)(C,{}),(0,g.jsx)(Z,{}),(0,g.jsx)("h3",{children:"contacts!"})]})}}}]);
//# sourceMappingURL=63.9b490ecd.chunk.js.map